{"version":3,"sources":["../../src/pages/search-place/search-place.module.ts","../../src/models/location.ts","../../src/pages/search-place/search-place.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { TranslateModule } from '@ngx-translate/core';\r\nimport { AgmCoreModule } from '@agm/core';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SearchPlacePage } from './search-place';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SearchPlacePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SearchPlacePage),\r\n    AgmCoreModule,\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    AgmCoreModule\r\n  ]\r\n})\r\nexport class SearchPlacePageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-place/search-place.module.ts","export class Location {\r\n    constructor(public lat: number, public long: number) {\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/location.ts","import { SelectedLocationService } from './../../services/selected-location';\r\nimport { Location } from './../../models/location';\r\nimport { Component, ChangeDetectorRef, ViewChild } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { MapsAPILoader } from '@agm/core';\r\n\r\n/**\r\n * Generated class for the SearchPlacePage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\ndeclare var google: any;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-search-place',\r\n  templateUrl: 'search-place.html',\r\n})\r\nexport class SearchPlacePage {\r\n\r\n  placesService;\r\n  geoCoder;\r\n  searching: boolean = false;\r\n  result = {};\r\n  objectKeys = Object.keys;\r\n  @ViewChild(\"searchBar\") searchBar;\r\n\r\n  constructor(private selectedLocationService: SelectedLocationService,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private _mapsAPILoader: MapsAPILoader,\r\n    private changeDetector: ChangeDetectorRef) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this._mapsAPILoader.load().then(() => {\r\n      this.placesService = new google.maps.places.AutocompleteService();\r\n      this.geoCoder = new google.maps.Geocoder();\r\n    });\r\n  }\r\n\r\n  ionViewDidEnter = () => setTimeout(() => this.searchBar.setFocus(), 150)\r\n\r\n  onInput(event) {\r\n    if (this.placesService) {\r\n      if (event.target.value && event.target.value.length > 0) {\r\n        this.searching = true;\r\n        this.placesService.getPlacePredictions({ input: event.target.value }, (result) => {\r\n          console.log(result);\r\n          this.result = result;\r\n          this.searching = false;\r\n          this.changeDetector.detectChanges();\r\n        });\r\n      } else this.searching = false;\r\n    }\r\n  }\r\n\r\n  predictionClicked(item) {\r\n    this.geoCoder.geocode({ \"placeId\": this.result[item].place_id }, (result) => {\r\n      this.selectedLocationService.changeLocation(new Location(result[0].geometry.location.lat(), result[0].geometry.location.lng()));\r\n    });\r\n    this.navCtrl.pop();\r\n    console.log(this.result[item]);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-place/search-place.ts"],"sourceRoot":""}